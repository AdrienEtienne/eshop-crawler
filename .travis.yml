language: node_js
node_js:
  - '10'
jobs:
  include:
    - stage: unit tests
      name: tests
      script: npm run test:cov
    - stage: unit tests
      name: lint
      script: npm run lint
    - stage: unit tests
      name: e2e
      script: npm run test:e2e
    - stage: unit tests
      name: build
      script: npm run build
    - stage: deploy
      name: deploy
      script: npm --version
    # - if: branch = master
    #   stage: deploy to staging
    #   script: skip
    #   deploy: heroku
    #     provider: heroku
    #     app: eshop-crawler
    #     api_key: $HEROKU_AUTH_TOKEN
